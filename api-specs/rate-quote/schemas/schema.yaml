openapi: 3.0.1
info:
  title: Rate Quote API
  version: "1.0.0-public-preview"
  description: This file contains the schema definitions for the Full Truckload (FTL) Rate Quote API

components:
  schemas:
    # Main request schema
    RateQuoteRequest:
      title: FTL Rate Quote Request
      type: object
      required:
        - pickupDate
        - origin
        - destination
      properties:
        pickupDate:
          type: string
          format: date
          example: 2026-01-20
        flexibleDates:
          type: boolean
          example: true
        flexibleDays:
          type: integer
          example: 2
        origin:
          $ref: '#/components/schemas/Origin'
        destination:
          $ref: '#/components/schemas/Destination'
        referenceNumbers:
          $ref: '#/components/schemas/ReferenceNumbers'
        commodities:
          type: array
          items:
            $ref: '#/components/schemas/Commodity'
        shipmentTotals:
          $ref: '#/components/schemas/ShipmentTotals'
        accessorials:
          type: array
          items:
            $ref: '#/components/schemas/Accessorial'
        specialInstructions:
          type: string
          example: Handle with care
        equipment:
          $ref: '#/components/schemas/Equipment'
        payment: 
          $ref: '#/components/schemas/Payment'

    # Main response schema
    RateQuoteResponse:
      title: FTL Rate Quote Response
      type: object
      properties:
        carrierResult:
          $ref: '#/components/schemas/CarrierResult'
        messageStatus:
          $ref: '#/components/schemas/MessageStatus'

    # Error response schema
    RateQuoteErrorResponse:
      title: FTL Rate Quote Response
      type: object
      properties:
        carrierResult:
          items:
          type: array
          example: []
        messageStatus:
          $ref: '#/components/schemas/ErrorMessageStatus'

    # Address schemas
    Origin:
      type: object
      required:
        - city
        - state
        - country
        - postalCode
      properties:
        name:
          type: string
          example: Origin Company
        address1:
          type: string
          example: 123 Main St
        address2:
          type: string
        city:
          type: string
          example: Chicago
        state:
          $ref: '#/components/schemas/StateProvinceCodes'
        country:
          $ref: '#/components/schemas/CountryCodes'
        postalCode:
          type: string
          example: 60601
          description: >
            The 5-digit + 4 or 5-digit for the United States, 5-digit for Mexico, or 6-character for Canada, postal code

            Valid formats:
              * 12345-1234 (5 digits + 4 - USA)
              * 12345 (5 digits - USA/MEX)
              * A1A1A1 (6 characters - CAN)
              * A1A1A (5 characters - CAN)

    Destination:
      type: object
      required:
        - city
        - state
        - country
        - postalCode
      properties:
        name:
          type: string
          example: Destination Company
        address1:
          type: string
          example: 456 Elm St
        address2:
          type: string
        city:
          type: string
          example: Los Angeles
        state:
          $ref: '#/components/schemas/StateProvinceCodes'
        country:
          $ref: '#/components/schemas/CountryCodes'
        postalCode:
          type: string
          example: 90001
          description: >
            The 5-digit + 4 or 5-digit for the United States, 5-digit for Mexico, or 6-character for Canada, postal code

            Valid formats:
              * 12345-1234 (5 digits + 4 - USA)
              * 12345 (5 digits - USA/MEX)
              * A1A1A1 (6 characters - CAN)
              * A1A1A (5 characters - CAN)

    CarrierResult:
     type: object
     properties:
      pricingType:
        $ref: '#/components/schemas/PricingType'
      quote:
        $ref: '#/components/schemas/Quote'
      service:
        $ref: '#/components/schemas/Service'
      shipmentInfo:
        $ref: '#/components/schemas/ShipmentInfo'
      accessorials:
        $ref: '#/components/schemas/AccessorialCharge'
      commodities:
        $ref: '#/components/schemas/RatedCommodity'
      transit:
        $ref: '#/components/schemas/Transit'


    Commodity:
      type: object
      properties:
        classification:
          $ref: '#/components/schemas/ClassificationCodes'
        description:
          type: string
          example: Electronics
        quantity:
          type: number
          example: 10
        weight:
          type: number
          example: 500
        weightUnit:
          $ref: '#/components/schemas/WeightUnit'
        height:
          type: number
          example: 12
        length:
          type: number
          example: 15
        width:
          type: number
          example: 10
        dimensionsUnit:
          $ref: '#/components/schemas/DimensionsUnit'
        stackable:
          type: boolean
          default: false
          example: false
        hazardous:
          type: boolean
          default: false
          example: false


    ShipmentTotals:
      type: object
      properties:
        totalWeight:
          type: number
          example: 500
        weightUnit:
          $ref: '#/components/schemas/WeightUnit'
        totalHeight:
          type: number
          example: 50
        totalLength:
          type: number
          example: 50
        totalWidth:
          type: number
          example: 50
        totalPieces:
          type: integer
          example: 10
        dimensionsUnit:
          $ref: '#/components/schemas/DimensionsUnit'

    Accessorial:
      type: string
      enum: [Liftgate, InsideDelivery, Residential, LimitedAccess]
      example: Liftgate

    Equipment:
      type: object
      properties:
        type: 
          $ref: '#/components/schemas/EquipmentType'
        temperatureControlled:
          type: boolean
          default: false
          example: false
        temperatureMin:
          type: number
        temperatureMax:
          type: number
        tarpRequired:
          type: boolean
          example: true

    ReferenceNumbers:
      title: Reference Numbers
      type: object
      properties:
        shipmentId:
          type: string
          description: Shipment Id (SID) number for the shipment.
          example: SID9743985
        additionalReferences:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
                example: Customer Reference Id
                description: |
                  Indicates the name of the reference number being provided.
              value:
                type: string
                example: CR12345
                description: >-
                  Additional reference number that correlates to the
                  additional reference name.

    ClassificationCodes:
      title: Classification Codes
      type: string
      description: |
        Valid values:
        * 50
        * 55
        * 60
        * 65
        * 70
        * 77.5
        * 85
        * 92.5
        * 100
        * 110
        * 125
        * 150
        * 175
        * 200
        * 250
        * 300
        * 400
        * 500
        * Not required
      enum:
        - '50'
        - '55'
        - '60'
        - '65'
        - '70'
        - '77.5'
        - '85'
        - '92.5'
        - '100'
        - '110'
        - '125'
        - '150'
        - '175'
        - '200'
        - '250'
        - '300'
        - '400'
        - '500'
        - 'Not required'

    DimensionsUnit:
      title: Dimensions Unit
      type: string
      enum:
        - Inches
        - Centimeters
      default: Inches
      description: |
        The unit of measurement for dimensions.
    WeightUnit:
      title: Weight Unit
      type: string
      enum:
        - Pounds
        - Kilograms
      default: Pounds
      description: |
        The unit of measurement for weight.
    EquipmentType:
      title: Equipment Type
      type: string
      enum:
        - DRYVAN
        - REEFER
        - FLATBED
        - STEPDECK
        - TANKER
    StateProvinceCodes:
      title: State Codes
      type: string
      description: |
        Valid values:
        * AL - Alabama
        * AK - Alaska
        * AZ - Arizona
        * AR - Arkansas
        * CA - California
        * CO - Colorado
        * CT - Connecticut
        * DC - District of Columbia
        * DE - Delaware
        * FL - Florida
        * GA - Georgia
        * HI - Hawaii
        * ID - Idaho
        * IL - Illinois
        * IN - Indiana
        * IA - Iowa
        * KS - Kansas
        * KY - Kentucky
        * LA - Louisiana
        * ME - Maine
        * MD - Maryland
        * MA - Massachusetts
        * MI - Michigan
        * MN - Minnesota
        * MS - Mississippi
        * MO - Missouri
        * MT - Montana
        * NE - Nebraska
        * NV - Nevada
        * NH - New Hampshire
        * NJ - New Jersey
        * NM - New Mexico
        * NY - New York
        * NC - North Carolina
        * ND - North Dakota
        * OH - Ohio
        * OK - Oklahoma
        * OR - Oregon
        * PA - Pennsylvania
        * PR - Puerto Rico
        * RI - Rhode Island
        * SC - South Carolina
        * SD - South Dakota
        * TN - Tennessee
        * TX - Texas
        * UT - Utah
        * VT - Vermont
        * VA - Virginia
        * WA - Washington
        * WV - West Virginia
        * WI - Wisconsin
        * WY - Wyoming
        * AB - Alberta
        * BC - British Columbia
        * MB - Manitoba
        * NB - New Brunswick
        * NL - Newfoundland and Labrador
        * NS - Nova Scotia
        * NT - Northwest Territories
        * NU - Nunavut
        * ON - Ontario
        * PE - Prince Edward Island
        * QC - Quebec
        * SK - Saskatchewan
        * YT - Yukon
        * CMX - Mexican Federal District 
        * AGU - Aguascalientes
        * BCN - Baja California
        * BCS - Baja California Sur
        * CAM - Campeche
        * COA - Coahuila
        * COL - Colima
        * CHP - Chiapas
        * CHH - Chihuahua
        * DUR - Durango
        * GUA - Guanajuato
        * GRO - Guerrero
        * HID - Hidalgo
        * JAL - Jalisco
        * MEX - Mexico
        * MIC - Michoacan
        * MOR - Morelos
        * NAY - Nayarit
        * NLE - Nuevo Leon
        * OAX - Oaxaca
        * PUE - Puebla
        * QUE - Queretaro
        * ROO - Quintana Roo
        * SLP - San Luis Potosi
        * SIN - Sinaloa
        * SON - Sonora
        * TAB - Tabasco
        * TAM - Tamaulipas
        * TLA - Tlaxcala
        * VER - Veracruz
        * YUC - Yucatan
        * ZAC - Zacatecas
      enum:
        - AL
        - AK
        - AZ
        - AR
        - CA
        - CO
        - CT
        - DC
        - DE
        - FL
        - GA
        - HI
        - ID
        - IL
        - IN
        - IA
        - KS
        - KY
        - LA
        - ME
        - MD
        - MA
        - MI
        - MN
        - MS
        - MO
        - MT
        - NE
        - NV
        - NH
        - NJ
        - NM
        - NY
        - NC
        - ND
        - OH
        - OK
        - OR
        - PA
        - PR
        - RI
        - SC
        - SD
        - TN
        - TX
        - UT
        - VT
        - VA
        - WA
        - WV
        - WI
        - WY
        - AB
        - BC
        - MB
        - NB
        - NL
        - NS
        - NT
        - NU
        - ON
        - PE
        - QC
        - SK
        - YT
        - CMX
        - AGU
        - BCN
        - BCS
        - CAM
        - COA
        - COL
        - CHP
        - CHH
        - DUR
        - GUA
        - GRO
        - HID
        - JAL
        - MEX
        - MIC
        - MOR
        - NAY
        - NLE
        - OAX
        - PUE
        - QUE
        - ROO
        - SLP
        - SIN
        - SON
        - TAB
        - TAM
        - TLA
        - VER
        - YUC
        - ZAC  
    
    CountryCodes:
      title: Country Codes
      type: string
      description: |
        Three letter country code

        Valid values:
        * CAN - Canada
        * USA - United States
        * MEX - Mexico
      enum:
        - CAN
        - USA
        - MEX
    
    Payment:
      type: object
      properties:
        terms:
          type: string
          description: |
            Specifies how the payment for the shipment is handled

            Valid values:
            * Collect      - Payment is collected from the recipient (consignee) at delivery
            * Prepaid      - Payment is made by the shipper before shipment
            * Third Party  - Payment is made by a third party (neither shipper nor consignee)
          enum: 
            - Collect    
            - Prepaid    
            - Third 
            
        payers:
          type: string
          description: |
            Specifies who is responsible for making the payment

            Valid values:
            * Consignee    - The receiver of the shipment pays
            * Shipper      - The sender of the shipment pays
            * Third Party  - A third party pays on behalf of shipper or consignee
          enum: 
            - Consignee
            - Shipper
            - Third Party

    PricingType:
      type: string
      description: |
        Valid values:
        * CONTRACT - Rate based on a pre-negotiated agreement with the carrier for defined lanes and a fixed contract term.
        * DYNAMIC - Rate determined in real time based on current market conditions, capacity, and demand.
        * VOLUME - Rate offered based on committed shipment volume over a specified period.
      enum:
        - CONTRACT
        - DYNAMIC
        - VOLUME
    ServiceLevel:
      type: string
      description: |
        Valid values:
        * GTD_AM   - Guaranteed Morning
        * GTD_NOON - Guaranteed Noon
        * GTD_PM   - Guaranteed End of Day
        * STND     - Standard
      enum:
        - GTD_AM
        - GTD_NOON
        - GTD_PM
        - STND
    Quote:
      type: object
      properties:
        quoteId:
          type: string
          example: 12345678
        effectiveDate:
          type: string
          format: date
          example: 2026-01-20
        expirationDate:
          type: string
          format: date
          example: 2026-01-28

    Service:
      type: object
      properties:
        level:
          $ref: '#/components/schemas/ServiceLevel'
        description:
          type: string
          example: Standard
        guaranteedTime:
          type: string
          example: 5:00pm

    Currency:
      title: Currency
      type: string
      description: |
        Valid values:
        * CAD
        * MXN
        * USD
      enum:
        - CAD
        - MXN
        - USD
      default: USD

    ShipmentInfo:
      type: object
      properties:
        deficitAmount:
          type: string
          example: 33.32
        deficitClass:
          type: string
          example: 77.5
        deficitRate:
          type: string
          example: 31.70
        deficitWeight:
          type: string
          example: 100
        discountAmount:
          type: string
          example: 121.32
        discountPercent:
          type: string
          example: 70
        netCharge:
          type: string
          example: 525.00
        weight:
          type: string
          example: 1500
        totalCharge:
          type: string
          example: 525.00
        currency:
          $ref: '#/components/schemas/Currency'

    AccessorialCharge:
      type: object
      properties:
        code:
          $ref: '#/components/schemas/Accessorial_Codes'
        description:
          type: string
          example: Hazardous material
        chargeAmount:
          type: string
          example: 45.00

    RatedCommodity:
      type: object
      properties:
        classification:
          $ref: '#/components/schemas/ClassificationCodes'
        weight:
          type: string
          example: 6250
        chargeAmount:
          type: string
          example: 1584.68
        rateAmount:
          type: string
          example: 31.70

    Transit:
      type: object
      properties:
        pickupDate:
          type: string
          format: date
          example: 2024-03-28
        movementInfo:
          $ref: '#/components/schemas/MovementInfo'

    Accessorial_Codes:
      title: Accessorial Codes
      type: string
      description: |
        Valid values:
        * APTD - Appointment required at delivery
        * APTP - Appointment required at pickup
        * COD - Collect on delivery
        * EXPD - Expedited Service
        * FVC - Full value coverage
        * GTD_AM- Guaranteed service - by Morning
        * GTD_NOON- Guaranteed service - by Noon
        * GTD_PM- Guaranteed service - by End of Day
        * HAZ - Hazardous material
        * IDL - Inside delivery
        * INBD - In bond shipment
        * IPU - Inside pickup
        * LFTD - Lift gate required at delivery
        * LFTP - Lift gate required at pickup
        * LTDAD - Limited access delivery
        * LTDAP - Limited access pickup
        * MARK - Marked or tagged
        * MNC - Must notify consignee
        * OVR - Over dimension/excessive length
        * PPD - Perishables (food)
        * PSC - Protective from cold
        * PSH - Protective from heat
        * PSN - Poisonous material
        * REP - Residential pickup
        * RES - Residential delivery
        * SRT - Sort and segregate
        * SS - Single Shipment
        * TCS - Time Crititcal Service
      enum:
        - APTD
        - APTP
        - COD
        - EXPD
        - FVC
        - GTD_AM
        - GTD_NOON
        - GTD_PM
        - HAZ
        - IDL
        - INBD
        - IPU
        - LFTD
        - LFTP
        - LTDAD
        - LTDAP
        - MARK
        - MNC
        - OVR
        - PPD
        - PSC
        - PSH
        - PSN
        - REP
        - RES
        - SRT
        - SS
        - TCS

    MessageStatus:
      type: object
      description: Object containing message status details.
      properties:
        status:
          type: string
          description: |
            Indicates the status of the request. <br><br>
            PASS - Request is successful with no exceptions.<br>
            FAIL - Request is unsuccessful due to some exception.<br>
            WARNING - Request is successful with some exception.
          example: PASS
        code:
          type: string
          description: Indicates response detail code.
          example: '10000000'
        message:
          type: string
          description: Provides information pertaining to the response code.
          example: Transaction was successful.
        resolution:
          type: string
          description: Provides guidance pertaining to the response code.
          example: ''
        information:
          type: array
          items:
            type: object
            properties:
              code:
                type: string
              type:
                type: string
              message:
                type: string
          example: [] 

    ErrorMessageStatus:
      type: object
      description: Object containing message status details.
      properties:
        status:
          type: string
          description: |
            Indicates the status of the request. <br><br>
            PASS - Request is successful with no exceptions.<br>
            FAIL - Request is unsuccessful due to some exception.<br>
            WARNING - Request is successful with some exception.
          example: FAIL
        code:
          type: string
          description: Indicates response detail code.
          example: '12000000'
        message:
          type: string
          description: Provides information pertaining to the response code.
          example: Transaction was not successful.
        resolution:
          type: string
          description: Provides guidance pertaining to the response code.
          example: ''
        information:
          type: array
          items:
            type: object
            properties:
              code:
                type: string
              type:
                type: string
              message:
                type: string
          example: [
            {
              code: 10000020,
              type: Carrier Message,
              message: Pickup date is not valid
            }
          ] 

    MovementInfo:
      type: object
      properties:
        source:
          type: string
          example: Carrier
        estimatedDeliveryDate:
          type: string
          format: date
          example: 2024-03-30
        estimatedTransitDays:
          type: string
          example: 3
        movementType:
          type: string
          example: DIRECT
        origin:
          $ref: '#/components/schemas/Origin'
        destination:
          $ref: '#/components/schemas/Destination'
